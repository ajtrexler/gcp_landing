<!DOCTYPE html>
<head>
  <title>Hardscrabble</title>
  <meta charset='utf-8'/>
  <meta name='description' content='Documentation website'/>
  <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'/>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
  <link href='assets.css' rel='stylesheet' type='text/css'>
</head>
<body>  
  <nav id='sidebar'>
	<h1>Hardscrabble</h1>
<ul id='links'>
  
    
  
    
    <li><a href='#/about'>About</a></li>
    
  
    
  
    
    <li><a href='#/contact'>Contact</a></li>
    
  
  
  <li><h2>Stuff</h2>
    <ul>
    
              
        <li class=''><a href='#'></a></li>
      
    
              
        <li class='RANDO'><a href='#/functions'>Cloud Functions</a></li>
              
        <li class='RANDO'><a href='#/placeholder'>placeholder service</a></li>
      
    
    </ul>
  </li>

</ul>
</nav>

<section id='content'>

  <article class='RANDO'>
    <a name='/functions' href='#/functions'><h2><code><b>RANDO</b> _posts/2018-11-28-functions.md</code> Cloud Functions</h2></a>
    <section class='body'>
      <h2 id="cloud-functions">Cloud Functions</h2>

<p>78 versions later; a cloud function receives a commit webhook from github and auto-updates my gs (google cloud storage) bucket that serves this website!  automation FTW!</p>

<p>Script is uploaded <a href="https://github.com/ajtrexler/rando/blob/master/cloudfunc_gcp_landing.py">here</a>, which is a simple parser of the json payload github webhooks send.  Since I just want to detect any changes to the repo, and on the github side I’m triggering whenever a new commit is pushed, I don’t need to actually parse much of the payload.  The SHA-1 signature checker uses a shared secret key entered on the github side and loaded as an environmental var on the GCP side.  Finally the actual file upload is somewhat clumsy, it just re-copies every object in the repo to the GCP bucket.  From the command line there are better ways to do this, for example gsutil rsync, but the mechanics of deploying that from within the cloud function were more annoying than I wanted to deal with this…</p>

    </section>
  </article>

  <article class=''>
    <a name='/about' href='#/about'><h2>About</h2></a>
    <section class='body'>
      <h2 id="about">About</h2>

<p>This is a simple landing page that will become a touchpoint for GCP services and other web stuff as I learn to use them.  This page will be updated.</p>

    </section>
  </article>

  <article class='RANDO'>
    <a name='/placeholder' href='#/placeholder'><h2><code><b>RANDO</b> _posts/2018-11-01-placeholder.md</code> placeholder service</h2></a>
    <section class='body'>
      <p>Placeholder for a touchpoint when it gets made.</p>

<h2 id="service">Service</h2>

<p>In the meantime, please enjoy this photo of some elks.</p>

<p><img src="https://storage.googleapis.com/hardscrabble-labs-data/elks_large.jpg" alt="elks" /></p>

    </section>
  </article>

  <article class=''>
    <a name='/contact' href='#/contact'><h2>Contact</h2></a>
    <section class='body'>
      <h2 id="contact">Contact</h2>

<p>Get in touch at adamj.trexler (at) gmail (dot) com.</p>

    </section>
  </article>

</section>

  
  <!--[if lt IE 9]><script src='http://html5shim.googlecode.com/svn/trunk/html5.js'></script><![endif]-->
  <script src='assets.js' type='text/javascript'></script>
  <script>require('boot');</script>
</body>
</html>